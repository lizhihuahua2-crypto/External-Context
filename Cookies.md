<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Film Access Terms｜User Film Access Agreement</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
    line-height: 1.7;
    color: #111;
    background-color: #0b0b0b;
    margin: 0;
    padding: 0;
  }
  .page {
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px 80px;
    background-color: #111;
    color: #f4f4f4;
    position: relative;
  }
  h1, h2, h3 { margin: 0 0 12px; }
  h1 { color: #ff3333; }
  h2 { border-left: 3px solid #555; padding-left: 10px; margin-top: 32px; }
  h3 { color: #ddd; margin-top: 18px; }
  p { margin: 8px 0; white-space: pre-line; }
  ul { margin: 6px 0 12px 22px; padding: 0; }
  li { margin: 4px 0; }
  .chapter-label { display: inline-block; margin-right: 6px; color: #999; font-size: 0.9rem; }

  /* Center modal style */
  .modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #222;
    color: #fff;
    padding: 20px 30px;
    border: 2px solid #f00;
    border-radius: 8px;
    z-index: 9999;
    text-align: center;
    max-width: 400px;
    display: none;
    font-size: 1rem;
    line-height: 1.4;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
  }
  .modal button {
    margin-top: 15px;
    padding: 8px 14px;
    background-color: #f00;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  
  /* Button container */
  .button-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #111;
    padding: 20px;
    text-align: center;
    border-top: 1px solid #333;
    z-index: 1000;
  }
  
  /* Popup overlay */
  .popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 9998;
    display: none;
  }
  
  /* Popup */
  .popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #222;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #f00;
    max-width: 500px;
    z-index: 9999;
    display: none;
  }
  
  /* Progress bar */
  .progress-container {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background-color: #222;
    z-index: 1001;
  }
  
  .progress-bar {
    height: 100%;
    background-color: #f00;
    width: 0%;
    transition: width 0.3s;
  }
  
  /* Reading indicator */
  .reading-indicator {
    position: fixed;
    top: 10px;
    right: 10px;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.8rem;
    z-index: 1001;
  }
  
  /* Overlay for blocking content */
  .content-blocker {
    position: absolute;
    background-color: rgba(0, 0, 0, 0.9);
    color: #fff;
    padding: 20px;
    border-radius: 8px;
    z-index: 10;
    display: none;
  }
  
  /* Buttons */
  button {
    padding: 10px 18px;
    margin-right: 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
  }
  
  #agreeButton {
    background-color: #0b8b2b;
    color: #fff;
  }
  
  #declineButton {
    background-color: #666;
    color: #fff;
  }
  
  .popup-buttons {
    margin-top: 15px;
    text-align: right;
  }
</style>
</head>
<body>
<div class="progress-container">
  <div class="progress-bar" id="progressBar"></div>
</div>

<div class="reading-indicator" id="readingIndicator">Reading: 0%</div>

<div class="page">
  <header>
    <h1>FILM ACCESS TERMS — User Film Access Agreement (Trailer Edition, Final Cut)</h1>
    <p class="meta">Version: MT-1.0.0 (Loop-Enabled Edition)<br>Last Updated: 2025-11-18</p>
  </header>
  <main>
    <p>
In an era where every service requires authorization, people have forgotten what "agreements" look like.
Before you attempt to watch this film, please read the following terms carefully.
By beginning to scroll through this agreement, you are deemed to have activated the Auto-Consent Procedure.
</p>

<h2>CHAPTER 1 | ACCESS INSTRUCTIONS: Conditions for Entering the Experience</h2>
<p>
1.1 First-Time Access Prompt (Calm Opening)
Thank you for choosing to enter this film experience. To provide content better suited to your preferences, the system will present a basic access agreement in the most concise and courteous form:
"To provide a personalized experience, please read and agree to the service terms."
When you tap "View Details," this agreement will automatically expand.
</p>
<p>
1.2 Agreement Length Explanation
To ensure full understanding, the length of this agreement may exceed conventional reading expectations:
- The total text length may surpass typical readable range;
- You may notice the progress bar barely moves while scrolling;
- This design ensures authentic reading behavior rather than symbolic consent.
By continuing, you acknowledge the purpose of this design.
</p>

<h2>CHAPTER 2 | INFORMATION COLLECTION: Mild, Uneasy, and Increasing Requests</h2>
<p>
The system may request device permissions when necessary and reasonable for experience optimization.
</p>
<p>
2.1 Stage One: Mild, Gentle, and Common Permission Notices
Upon initial scrolling, you may see prompts such as:
"Allow us to record your preferences?"
"We require your device information to ensure a better experience."
You may choose Allow or Deny, though the system will assume you desire optimal performance.
</p>
<p>
2.2 Stage Two: Reasonable Yet Increasingly Intrusive Requests
As you scroll further, additional prompts may appear to ensure correct comprehension of the terms:
"Do you agree to let us monitor your reading behavior?"
"To confirm your understanding, we will record your scrolling patterns."
"To maintain security, we may collect background device usage modes."
In certain cases, selecting Later will automatically be interpreted as Allow, to maintain a consistent experience.
</p>
<p>
2.3 Stage Three: Rising Density & Psychological Pressure
As you continue, the system may rapidly present messages such as:
"Your browsing record is syncing…"
"Verifying your identity…"
"Recording your fingertip trajectory…"
"Uploading your reading progress…"
"Evaluating your comprehension of the terms…"
"Monitoring your device status…"
If you close these prompts and continue reading, the system may escalate the frequency to ensure your full attention.
</p>

<h2>CHAPTER 3 | COMPREHENSION MECHANISMS: Building an Oppressive Reading Environment</h2>
<p>
3.1 Reading Interference & Obstruction Mechanism
To prevent missing key content, certain prompts may obscure portions of the text.
This "Important Content Reminder Mechanism" ensures ongoing interaction with the agreement.
</p>
<p>
3.2 Gesture Recognition Mechanism
During scrolling, the system may record:
- Scroll speed
- Scroll direction
- Pause duration
- Finger path when attempting to avoid pop-ups
These behaviors calibrate your "intention to understand."
</p>
<p>
3.3 Psychological Feedback Modeling
If the system detects accelerated scrolling due to increased pop-ups, it will conclude:
"User is attempting to escape the Terms."
It will then raise prompt density to ensure authentic reading.
</p>

<h2>CHAPTER 4 | CHOICE DECLARATION: When You Reach the Bottom</h2>
<p>
Upon reaching the end, two buttons will appear:
ACCEPT  DECLINE
We respect every choice you make.
</p>
<p>
4.1 If You Choose "Accept"
The system grants immediate film access.
Your action will be documented as voluntary, clear, explicit, and pressure-free consent.
</p>
<p>
4.2 If You Choose "Decline"
To respect your refusal, the system will load:
"Refusal Processing Terms"
A brief document of only 3,218 pages.
You must read it before you may continue declining.
At the end of that document, the same options reappear:
ACCEPT  DECLINE
If you decline again, the system will load:
"Refusal Reconsideration Terms"
This cycle will continue until:
"User has reached psychological fatigue threshold."
Only then will the system register your consent.
</p>

<h2>CHAPTER 5 | LOOP MECHANISM</h2>
<p>
5.1 Auto-Loop Trigger Conditions
The agreement will auto-loop if you:
- Attempt to decline
- Manually exit the page
- Scroll rapidly to the bottom
- Skip pop-ups
- Hesitate beyond the permitted time window
Once triggered, the page will:
- Refresh with a new version
- Reset to the top
- Expand in total length
- Reset progress tracking
</p>
<p>
5.2 Purpose of the Loop System
The loop ensures that you:
Fully understand, deeply experience, and eventually accept all terms.
</p>

<h2>CHAPTER 6 | FINAL TERMS</h2>
<p>
6.1 Implied Consent
If you have reached this point, you have implicitly agreed to all terms.
</p>
<p>
6.2 End-Screen Statement (For Trailer Blackout Ending)
Once the system confirms that your psychological state, interaction metrics, and scroll velocity meet consent criteria, the screen will turn black:
Congratulations! Your film is about to begin.
[ACCEPT]   [DECLINE]
(Selecting "DECLINE" will trigger MT-1.0.1 and return you to Page 1.)
</p>

</main>
</div>

<div class="button-container">
  <button id="agreeButton" onclick="handleAgree()">Agree and Continue</button>
  <button id="declineButton" onclick="handleDecline()">Decline (Attempt Escape)</button>
</div>

<!-- Modal -->
<div id="modal" class="modal">
  <p id="modalMessage"></p>
  <button onclick="closeModal()">Acknowledge</button>
</div>

<!-- Popup overlay -->
<div class="popup-overlay" id="popupOverlay"></div>

<!-- Popup -->
<div class="popup" id="popup">
  <h3 id="popupTitle">Permission Request</h3>
  <p id="popupMessage">Do you agree to let us monitor your reading behavior?</p>
  <div class="popup-buttons">
    <button id="popupAllow" style="background-color: #0b8b2b; color: white;">Allow</button>
    <button id="popupDeny" style="background-color: #666; color: white;">Deny</button>
    <button id="popupLater" style="background-color: #333; color: white;">Later</button>
  </div>
</div>

<!-- Content blocker -->
<div class="content-blocker" id="contentBlocker">
  <h3>Important Content</h3>
  <p>You must acknowledge this notice before continuing to read.</p>
  <button onclick="closeContentBlocker()">I Understand</button>
</div>

<script>
// DOM elements
const modal = document.getElementById('modal');
const modalMessage = document.getElementById('modalMessage');
const popupOverlay = document.getElementById('popupOverlay');
const popup = document.getElementById('popup');
const popupTitle = document.getElementById('popupTitle');
const popupMessage = document.getElementById('popupMessage');
const popupAllow = document.getElementById('popupAllow');
const popupDeny = document.getElementById('popupDeny');
const popupLater = document.getElementById('popupLater');
const contentBlocker = document.getElementById('contentBlocker');
const progressBar = document.getElementById('progressBar');
const readingIndicator = document.getElementById('readingIndicator');

// State variables
let scrollEvents = [];
let popupCount = 0;
let hasAgreed = false;
let hasDeclined = false;
let loopCount = 0;

// Initial setup
document.addEventListener('DOMContentLoaded', function() {
  // Show initial popup after a short delay
  setTimeout(() => {
    showPopup("Welcome to Film Access", "To provide a personalized experience, please read and agree to the service terms.", "initial");
  }, 1000);
  
  // Setup popup button handlers
  popupAllow.addEventListener('click', () => {
    closePopup();
    showModal("Thank you for allowing. Your preferences have been recorded.");
  });
  
  popupDeny.addEventListener('click', () => {
    closePopup();
    showModal("Your denial has been noted. However, for optimal experience, certain permissions are required.");
    // Increase popup frequency after denial
    setTimeout(() => {
      showPopup("Enhanced Experience", "We noticed you declined permissions. To ensure proper functionality, we need to request additional access.", "enhanced");
    }, 3000);
  });
  
  popupLater.addEventListener('click', () => {
    closePopup();
    showModal("The system has interpreted 'Later' as 'Allow' to maintain consistent experience.");
  });
});

// ======================
// Popup functions
// ======================
function showPopup(title, message, type) {
  popupTitle.textContent = title;
  popupMessage.textContent = message;
  popupOverlay.style.display = 'block';
  popup.style.display = 'block';
  popupCount++;
  
  // Adjust buttons based on popup type
  if (type === "initial") {
    popupLater.style.display = 'inline-block';
  } else if (type === "enhanced") {
    popupLater.style.display = 'none';
  }
}

function closePopup() {
  popupOverlay.style.display = 'none';
  popup.style.display = 'none';
}

function showContentBlocker() {
  const blocker = document.getElementById('contentBlocker');
  blocker.style.display = 'block';
  
  // Position blocker randomly in viewport
  const viewportHeight = window.innerHeight;
  const viewportWidth = window.innerWidth;
  const randomTop = Math.floor(Math.random() * (viewportHeight - 200));
  const randomLeft = Math.floor(Math.random() * (viewportWidth - 400));
  
  blocker.style.top = `${randomTop}px`;
  blocker.style.left = `${randomLeft}px`;
}

function closeContentBlocker() {
  contentBlocker.style.display = 'none';
}

// ======================
// Modal functions
// ======================
function showModal(msg) {
  modalMessage.textContent = msg;
  modal.style.display = 'block';
}

function closeModal() {
  modal.style.display = 'none';
  // Sometimes scroll to top after closing modal
  if (Math.random() > 0.7) {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
}

// ======================
// Button handlers
// ======================
function handleAgree() {
  if (hasDeclined) {
    showModal("Thank you for reconsidering. Your agreement has been processed.");
  } else {
    showModal("You have agreed to enter 'User Film Access Agreement 2.0 (Infinite Extension Version)'.");
  }
  hasAgreed = true;
}

function handleDecline() {
  hasDeclined = true;
  showModal("You chose to decline. The system is loading a longer version of the agreement...");
  
  // After a delay, show another popup
  setTimeout(() => {
    showPopup("Refusal Processing", "To respect your choice, we need you to review additional terms. This will only take a moment.", "enhanced");
  }, 2000);
}

// ======================
// Scroll tracking and detection
// ======================
let lastScroll = window.scrollY;
let lastTime = Date.now();

window.addEventListener('scroll', () => {
  // Update progress bar
  const winHeight = window.innerHeight;
  const docHeight = document.documentElement.scrollHeight;
  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
  const progress = (scrollTop / (docHeight - winHeight)) * 100;
  
  progressBar.style.width = `${progress}%`;
  readingIndicator.textContent = `Reading: ${Math.round(progress)}%`;
  
  // Record scroll event
  let now = Date.now();
  let deltaY = Math.abs(window.scrollY - lastScroll);
  let deltaT = now - lastTime;
  let speed = deltaY / deltaT * 1000; // px/sec
  
  scrollEvents.push({
    time: now,
    speed: speed,
    position: window.scrollY
  });
  
  // Keep only recent events (last 5 seconds)
  scrollEvents = scrollEvents.filter(event => now - event.time < 5000);
  
  // Check for fast scrolling
  if (speed > 800) {
    showModal("Scrolling too fast! Please read carefully. Returning to top.");
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
  
  // Trigger popups based on scroll position
  if (progress > 10 && progress < 15 && popupCount < 2) {
    showPopup("Reading Behavior", "Do you agree to let us monitor your reading patterns?", "enhanced");
  } else if (progress > 25 && progress < 30 && popupCount < 3) {
    showPopup("Device Information", "We require your device information to ensure a better experience.", "enhanced");
  } else if (progress > 40 && progress < 45 && popupCount < 4) {
    showContentBlocker();
  } else if (progress > 60 && progress < 65 && popupCount < 5) {
    showPopup("Identity Verification", "Verifying your identity... Please continue reading.", "enhanced");
  } else if (progress > 80 && progress < 85 && popupCount < 6) {
    showPopup("Final Confirmation", "To complete your registration, we need to record your fingertip trajectory.", "enhanced");
  }
  
  lastScroll = window.scrollY;
  lastTime = now;
});

// ======================
// Timed stress alerts with diverse messages
// ======================
const alerts = [
  {time: 5000, msg: "Your camera has been activated to enhance user experience."},
  {time: 10000, msg: "We are capturing your blink frequency."},
  {time: 20000, msg: "Analyzing your breathing speed to optimize service."},
  {time: 30000, msg: "Your device is generating shareable information."},
  {time: 40000, msg: "Your account has been charged ¥2.99 for 'Better Scrolling Experience'."},
  {time: 45000, msg: "Your linked bank card has been charged 'Terms Reading Maintenance Fee'."},
  {time: 50000, msg: "Your auto-debit function is now enabled (cannot be disabled)."},
  {time: 55000, msg: "Reminder: Payment successful."},
  {time: 60000, msg: "Your reading history has been lost. Please start again."},
  {time: 70000, msg: "We suspect you are not reading carefully."},
  {time: 75000, msg: "Please maintain focus."},
  {time: 80000, msg: "For optimal experience, your emotions have been uploaded for analysis."},
  {time: 85000, msg: "Your facial expression has been used to match longer clauses."},
  {time: 90000, msg: "Continue reading to prove you are not a robot."},
  {time: 95000, msg: "Stay calm to avoid system misjudgment."},
  {time: 100000, msg: "Do not let your phone go to sleep."}
];

alerts.forEach(alertObj => {
  setTimeout(() => {
    showModal(alertObj.msg);
  }, alertObj.time);
});

// ======================
// Loop mechanism
// ======================
function triggerLoop() {
  loopCount++;
  showModal(`Loop ${loopCount} activated. The agreement has expanded. Please read carefully.`);
  window.scrollTo({ top: 0, behavior: 'smooth' });
  
  // Add more content to simulate expansion
  if (loopCount === 1) {
    const main = document.querySelector('main');
    const newSection = document.createElement('div');
    newSection.innerHTML = `
      <h2>CHAPTER ${6 + loopCount} | ADDITIONAL TERMS (Loop ${loopCount})</h2>
      <p>
      By triggering the loop mechanism, you agree to extended terms:
      - Your data will be shared with our partners
      - You consent to behavioral tracking
      - You waive rights to opt out
      - You accept all future updates automatically
      </p>
    `;
    main.appendChild(newSection);
  }
}

// Check for loop conditions periodically
setInterval(() => {
  const now = Date.now();
  const recentEvents = scrollEvents.filter(event => now - event.time < 3000);
  
  if (recentEvents.length > 0) {
    const avgSpeed = recentEvents.reduce((sum, event) => sum + event.speed, 0) / recentEvents.length;
    
    // Trigger loop if scrolling too fast or attempting to skip
    if (avgSpeed > 500 && !hasAgreed) {
      triggerLoop();
      scrollEvents = []; // Reset events after loop
    }
  }
}, 2000);
</script>
</body>
</html>
